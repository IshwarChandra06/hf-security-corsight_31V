<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="mataheader :: headfragment">
</head>
<body>

<!-- Main Wrapper -->
	<div class="main-wrapper">
		<div th:replace="matatopmenu :: topmenufragment"> </div>
		<div th:replace="mataleftmenu :: leftmenu"></div>

	
	
	<!-- Page Wrapper -->
	<div class="page-wrapper">
			
				<!-- Page Content -->
				<div class="content container-fluid">
				
					<!-- Page Header -->
					<div class="page-header">
						<div class="row align-items-center">
							<div class="col">
								<h3 class="page-heaer"><i class="lab la-buffer"> <b>Exception</b></i></h3><br>
								<ul class="breadcrumb">
						        <li class="breadcrumb-item">Event</li>
						       <li class="breadcrumb-item active"><i class="lab la-buffer"></i> Exception</li>
								</ul>
							</div>
<!-- 							<div class="col-auto float-right ml-auto"> -->
<!-- 								<a th:href = "@{/action-details/new}" class="btn add-btn" ><i class="fa fa-plus"></i> Add Action</a> -->
<!-- 							</div> -->
						</div>
					</div>
					<!-- /Page Header -->
					
					<div class="row">
						<div class="col-md-12">
							<div>
								<table id="table-data" class="table table-striped custom-table mb-0 datatable">
									<thead>
										<tr>
											<th>Id</th>
											<th>Employee Id</th>
											<th>Employee Name</th>
											<th>Action</th>
											<th>Device</th>
											<th>Ip Address</th>
											<th>Status</th>
											<th>Message</th>
<!-- 											<th class="text-right">Actions</th> -->
										</tr>
									</thead>
								</table>
							</div>
						</div>
					</div>
                </div>
            </div>
		</div> 

	<div th:replace="matafooter :: footer"></div>
	
	<!-- Datatable JS -->
	<script src="/assets/js/jquery.dataTables.1.10.23.js"></script>
	<script src="/assets/js/dataTables.bootstrap4.min.js"></script>
	<script type="text/javascript" src="/assets/js/jquery.spring-friendly.js"></script>
	<script src="/assets/js/app.js"></script>
	<script  src="/assets/js/ellipsis.js"></script> 
	<script>
		$(document).ready(function() {
			var table = $('table#table-data').DataTable({
				'ajax' : '/api/action-details',
				'serverSide' : true,
				'columnDefs': [
					 { 'width': '50px', 'targets': 0 },
			            { 'width': '100px', 'targets': 1 ,'render': $.fn.dataTable.render.ellipsis(20)},
			            { 'width': '100px', 'targets': 2 ,'render': $.fn.dataTable.render.ellipsis(20)},
			            { 'width': '100px', 'targets': 3 ,'render': $.fn.dataTable.render.ellipsis(20)},
			            { 'width': '100px', 'targets': 4 ,'render': $.fn.dataTable.render.ellipsis(20)},
			            { 'width': '100px', 'targets': 5 ,'render': $.fn.dataTable.render.ellipsis(20)},
			            { 'width': '100px', 'targets': 6 ,'render': $.fn.dataTable.render.ellipsis(20)},
			            { 'width': '100px', 'targets': 7 ,'render': $.fn.dataTable.render.ellipsis(20)},
		        ],
				 columns : [
						{ data : 'id' }, 
						{ data : 'action.employee.empId', "defaultContent": ""},
						{ data : 'action.employee.name', "defaultContent": ""},
						{ data : 'action.type', "defaultContent": ""},
						{ data : 'device.name', "defaultContent": ""},
						{ data : 'device.ipAddress', "defaultContent": ""},
						{ data : 'status'},
						{ data : 'message'},
// 						{ data : "id",
// 							className: "text-right",
// 							render : function(data, type,row, meta) {
// 								return type === 'display' ? '<a href="/action-details/edit/'+ data +'" class="btn btn-primary" ><i class="las la-edit"></i></a>'
// 										+ '&nbsp;&nbsp;<a href="/action-details/delete/'+ data +'" id="deleteButton" class="btn btn-danger"><i class="las la-trash"></i></i></a>'
// 										: data;
// 							}
// 						}, 
				]

			});
			$(".dataTables_filter").addClass("d-flex justify-content-end");
			$("#exception").addClass("active");
		});
	</script>
</body>
</html>
